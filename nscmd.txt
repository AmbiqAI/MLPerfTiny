arm-none-eabi-gcc 
-c -mthumb -mcpu=cortex-m4 -mfpu=fpv4-sp-d16 -mfloat-abi=hard -ffunction-sections -fdata-sections -fomit-frame-pointer -fno-exceptions -MMD -MP -Wall -g -O3 
-DPART_apollo4p -DAM_PART_APOLLO4P -DAM_PACKAGE_BGA -D__FPU_PRESENT -Dgcc -DTF_LITE_STATIC_MEMORY -DTF_LITE_STRIP_ERROR_STRINGS -DENERGYMODE -DAM_MLPERF_PERFORMANCE_MODE -DEE_CFG_ENERGY_MODE=1 
-I includes/extern/AmbiqSuite/R4.1.0/boards/apollo4p_blue_evb/bsp -I includes/extern/AmbiqSuite/R4.1.0/CMSIS/ARM/Include -I includes/extern/AmbiqSuite/R4.1.0/CMSIS/AmbiqMicro/Include -I includes/extern/AmbiqSuite/R4.1.0/devices -I includes/extern/AmbiqSuite/R4.1.0/mcu/apollo4p -I includes/extern/AmbiqSuite/R4.1.0/mcu/apollo4p/hal/mcu -I includes/extern/AmbiqSuite/R4.1.0/utils -I includes/extern/tensorflow/R2.3.1/tensorflow -I includes/extern/tensorflow/R2.3.1/third_party -I includes/extern/tensorflow/R2.3.1/third_party/flatbuffers/include -I includes/neuralspot/ns-harness/includes-api -I includes/neuralspot/ns-peripherals/includes-api -I src -I src/util -I src/am_utils -I src/api -I src/benchmarks/keyword_spotting/api -I src/benchmarks/keyword_spotting/model 
-fno-use-cxa-atexit src/main.cc -o build/main.o

arm-none-eabi-gcc 
-c -mthumb -mcpu=cortex-m4 -mfpu=fpv4-sp-d16 -mfloat-abi=hard -ffunction-sections -fdata-sections -fomit-frame-pointer -fno-exceptions -MMD -MP -Wall -g -O3 
-DPART_apollo4p -DAM_PART_APOLLO4P -DAM_PACKAGE_BGA -D__FPU_PRESENT -Dgcc -DTF_LITE_STATIC_MEMORY -DTF_LITE_STRIP_ERROR_STRINGS -DAM_MLPERF_PERFORMANCE_MODE -DEE_CFG_ENERGY_MODE=1 
-I../../../../../.. -I../../../../../../CMSIS/ARM/Include -I../../../../../../mcu/apollo4p -I../../../../bsp -I../../../../../../CMSIS/AmbiqMicro/Include -I../../../../../../devices -I../../../../../../utils -I../src 
-I../src/util -I../src/am_utils -I../../ai_utils -I../src/api -I../src/benchmarks/keyword_spotting/api -I../src/benchmarks/keyword_spotting/model -I../.. 
-I../../third_party/ruy/profiler -I../../third_party/gemmlowp/internal -I../../third_party/gemmlowp/fixedpoint -I../../third_party/kissfft -I../../third_party/tools -I../../third_party/flatbuffers/include  
-fno-use-cxa-atexit ../src/main.cc -o bin/main.o


some mods
arm-none-eabi-gcc -c -mthumb -mcpu=cortex-m4 -mfpu=fpv4-sp-d16 -mfloat-abi=hard -ffunction-sections -fdata-sections -fomit-frame-pointer -fno-exceptions -MMD -MP -Wall -g -O3 
-DPART_apollo4p -DAM_PART_APOLLO4P -DAM_PACKAGE_BGA -D__FPU_PRESENT -Dgcc -DTF_LITE_STATIC_MEMORY -DTF_LITE_STRIP_ERROR_STRINGS -DAM_MLPERF_PERFORMANCE_MODE -DEE_CFG_ENERGY_MODE=1 
-I includes/extern/AmbiqSuite/R4.1.0/boards/apollo4p_blue_evb/bsp -I includes/extern/AmbiqSuite/R4.1.0/CMSIS/ARM/Include -I includes/extern/AmbiqSuite/R4.1.0/CMSIS/AmbiqMicro/Include -I includes/extern/AmbiqSuite/R4.1.0/devices -I includes/extern/AmbiqSuite/R4.1.0/mcu/apollo4p -I includes/extern/AmbiqSuite/R4.1.0/mcu/apollo4p/hal/mcu -I includes/extern/AmbiqSuite/R4.1.0/utils -I includes/extern/tensorflow/R2.3.1/tensorflow -I includes/extern/tensorflow/R2.3.1/third_party -I includes/extern/tensorflow/R2.3.1/third_party/flatbuffers/include -I includes/neuralspot/ns-harness/includes-api -I includes/neuralspot/ns-peripherals/includes-api -I src -I src/util -I src/am_utils -I src/api -I src/benchmarks/keyword_spotting/api -I src/benchmarks/keyword_spotting/model -fno-use-cxa-atexit src/main.cc -o build/main.o



...and linking

arm-none-eabi-gcc -Wl,-T,libs/linker_script.ld 
-o build/keyword_spotting.axf build/am_util_pp.o build/startup_gcc.o build/am_resources.o build/am_util_delay.o build/am_util_id.o build/am_util_stdio.o build/timer.o build/uart.o build/main.o build/internally_implemented.o build/submitter_implemented_harness.o build/submitter_implemented_model.o build/kws_input_data.o build/kws_model_data.o build/kws_model_settings.o 
-mthumb -mcpu=cortex-m4 -mfpu=fpv4-sp-d16 -mfloat-abi=hard -nostartfiles -static -fno-exceptions 
-Wl,--gc-sections,--entry,Reset_Handler,-Map,build/output.map 
-Wl,--start-group -lm -lc -lgcc -lnosys libs/ns-peripherals.a libs/libam_hal.a libs/libam_bsp.a libs/libtensorflow-microlite.a  -lstdc++ -Wl,--end-group


arm-none-eabi-gcc -Wl,-T,./linker_script.ld 
-o bin/main.axf bin/am_resources.o bin/am_util_delay.o bin/am_util_id.o bin/am_util_stdio.o bin/am_util_pp.o bin/uart.o bin/timer.o bin/power.o bin/startup_gcc.o bin/main.o bin/submitter_implemented_harness.o bin/submitter_implemented_model.o bin/internally_implemented.o bin/kws_input_data.o bin/kws_model_data.o bin/kws_model_settings.o  
-mthumb -mcpu=cortex-m4 -mfpu=fpv4-sp-d16 -mfloat-abi=hard -nostartfiles -static -lstdc++ -fno-exceptions 
-Wl,--gc-sections,--entry,Reset_Handler,-Map,bin/main.map 
-Wl,--start-group -lm -lc -lgcc -lnosys ../../../../../../mcu/apollo4p/hal/mcu/gcc/bin/libam_hal.a ../../../../bsp/gcc/bin/libam_bsp.a ../gcc/libtensorflow-microlite.a -Wl,--end-group